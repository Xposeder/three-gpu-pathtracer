function e(e,t,r,s){Object.defineProperty(e,t,{get:r,set:s,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},s={},a=t.parcelRequire5b70;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in s){var t=s[e];delete s[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){s[e]=t},t.parcelRequire5b70=a),a.register("hYZ9M",(function(t,r){e(t.exports,"RGBELoader",(()=>n));var s=a("hGT0Q");class n extends s.DataTextureLoader{constructor(e){super(e),this.type=s.HalfFloatType}parse(e){const t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},r=function(e,t,r){t=t||1024;let s=e.pos,a=-1,n=0,i="",o=String.fromCharCode.apply(null,new Uint16Array(e.subarray(s,s+128)));for(;0>(a=o.indexOf("\n"))&&n<t&&s<e.byteLength;)i+=o,n+=o.length,s+=128,o+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(s,s+128)));return-1<a&&(!1!==r&&(e.pos+=n+a+1),i+o.slice(0,a))},a=function(e,t,r,s){const a=e[t+3],n=Math.pow(2,a-128)/255;r[s+0]=e[t+0]*n,r[s+1]=e[t+1]*n,r[s+2]=e[t+2]*n,r[s+3]=1},n=function(e,t,r,a){const n=e[t+3],i=Math.pow(2,n-128)/255;r[a+0]=s.DataUtils.toHalfFloat(Math.min(e[t+0]*i,65504)),r[a+1]=s.DataUtils.toHalfFloat(Math.min(e[t+1]*i,65504)),r[a+2]=s.DataUtils.toHalfFloat(Math.min(e[t+2]*i,65504)),r[a+3]=s.DataUtils.toHalfFloat(1)},i=new Uint8Array(e);i.pos=0;const o=function(e){const s=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,n=/^\s*FORMAT=(\S+)\s*$/,i=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,o={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let l,p;if(e.pos>=e.byteLength||!(l=r(e)))return t(1,"no header found");if(!(p=l.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(o.valid|=1,o.programtype=p[1],o.string+=l+"\n";l=r(e),!1!==l;)if(o.string+=l+"\n","#"!==l.charAt(0)){if((p=l.match(s))&&(o.gamma=parseFloat(p[1],10)),(p=l.match(a))&&(o.exposure=parseFloat(p[1],10)),(p=l.match(n))&&(o.valid|=2,o.format=p[1]),(p=l.match(i))&&(o.valid|=4,o.height=parseInt(p[1],10),o.width=parseInt(p[2],10)),2&o.valid&&4&o.valid)break}else o.comments+=l+"\n";return 2&o.valid?4&o.valid?o:t(3,"missing image size specifier"):t(3,"missing format specifier")}(i);if(-1!==o){const e=o.width,r=o.height,l=function(e,r,s){const a=r;if(a<8||a>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(a!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");const n=new Uint8Array(4*r*s);if(!n.length)return t(4,"unable to allocate buffer space");let i=0,o=0;const l=4*a,p=new Uint8Array(4),h=new Uint8Array(l);let c=s;for(;c>0&&o<e.byteLength;){if(o+4>e.byteLength)return t(1);if(p[0]=e[o++],p[1]=e[o++],p[2]=e[o++],p[3]=e[o++],2!=p[0]||2!=p[1]||(p[2]<<8|p[3])!=a)return t(3,"bad rgbe scanline format");let r,s=0;for(;s<l&&o<e.byteLength;){r=e[o++];const a=r>128;if(a&&(r-=128),0===r||s+r>l)return t(3,"bad scanline data");if(a){const t=e[o++];for(let e=0;e<r;e++)h[s++]=t}else h.set(e.subarray(o,o+r),s),s+=r,o+=r}const f=a;for(let e=0;e<f;e++){let t=0;n[i]=h[e+t],t+=a,n[i+1]=h[e+t],t+=a,n[i+2]=h[e+t],t+=a,n[i+3]=h[e+t],i+=4}c--}return n}(i.subarray(i.pos),e,r);if(-1!==l){let t,i,p,h;switch(this.type){case s.FloatType:h=l.length/4;const e=new Float32Array(4*h);for(let t=0;t<h;t++)a(l,4*t,e,4*t);t=e,p=s.FloatType;break;case s.HalfFloatType:h=l.length/4;const r=new Uint16Array(4*h);for(let e=0;e<h;e++)n(l,4*e,r,4*e);t=r,p=s.HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:e,height:r,data:t,header:o.string,gamma:o.gamma,exposure:o.exposure,format:i,type:p}}}return null}setDataType(e){return this.type=e,this}load(e,t,r,a){return super.load(e,(function(e,r){switch(e.type){case s.FloatType:case s.HalfFloatType:e.encoding=s.LinearEncoding,e.minFilter=s.LinearFilter,e.magFilter=s.LinearFilter,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,r)}),r,a)}}})),a.register("1yYrt",(function(t,r){e(t.exports,"MaterialStructArrayUniform",(()=>n));var s=a("6YVFf");class n extends Array{updateFrom(e,t){for(;this.length>e.length;)this.pop();for(;this.length<e.length;)this.push(new s.MaterialStructUniform);for(let r=0,s=this.length;r<s;r++)this[r].updateFrom(e[r],t)}}})),a.register("6YVFf",(function(t,r){e(t.exports,"MaterialStructUniform",(()=>n));var s=a("hGT0Q");class n{constructor(){this.color=new s.Color(16777215),this.map=-1,this.metalness=1,this.metalnessMap=-1,this.roughness=1,this.roughnessMap=-1,this.ior=1,this.transmission=0,this.transmissionMap=-1,this.emissive=new s.Color(0),this.emissiveIntensity=1,this.emissiveMap=-1,this.normalMap=-1,this.normalScale=new s.Vector2(1,1),this.opacity=1}updateFrom(e,t=[]){"color"in e?this.color.copy(e.color):e.color.set(16777215),this.map=t.indexOf(e.map),this.metalness="metalness"in e?e.metalness:1,this.metalnessMap=t.indexOf(e.metalnessMap),this.roughness="roughness"in e?e.roughness:1,this.roughnessMap=t.indexOf(e.roughnessMap),this.ior="ior"in e?e.ior:1,this.transmission="transmission"in e?e.transmission:0,this.transmissionMap=t.indexOf(e.transmissionMap),"emissive"in e?this.emissive.copy(e.emissive):this.emissive.set(0),this.emissiveIntensity="emissiveIntensity"in e?e.emissiveIntensity:1,this.emissiveMap=t.indexOf(e.emissiveMap),this.normalMap=t.indexOf(e.normalMap),"normalScale"in e?this.normalScale.copy(e.normalScale):this.normalScale.set(1,1),this.opacity=e.opacity}}})),a.register("bOW4I",(function(t,r){e(t.exports,"RenderTarget2DArray",(()=>o));var s=a("hGT0Q"),n=a("hwk6U");const i=new s.Color;class o extends s.WebGLRenderTarget{constructor(...e){super(...e);const t=new s.DataTexture2DArray;t.format=s.RGBAFormat,t.type=s.UnsignedByteType,t.minFilter=s.LinearFilter,t.magFilter=s.LinearFilter,t.wrapS=s.RepeatWrapping,t.wrapT=s.RepeatWrapping,t.setTextures=(...e)=>{this.setTextures(...e)},this.setTexture(t);const r=new n.FullScreenQuad(new s.MeshBasicMaterial);this.fsQuad=r}setTextures(e,t,r,a){const n=e.getRenderTarget(),o=e.toneMapping,l=e.getClearAlpha();e.getClearColor(i);const p=a.length;this.setSize(t,r,p),e.setClearColor(0,0),e.toneMapping=s.NoToneMapping;const h=this.fsQuad;for(let t=0,r=p;t<r;t++){const r=a[t];h.material.map=r,e.setRenderTarget(this,t),h.render(e)}h.material.map=null,e.setClearColor(i,l),e.setRenderTarget(n),e.toneMapping=o}dispose(){super.dispose(),this.fsQuad.dispose()}}}));
//# sourceMappingURL=lambert.8157c00b.js.map
